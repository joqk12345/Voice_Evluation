<!--设置页面 - 简洁温暖风格-->
<view class="settings-container">
  <!-- 页面头部 -->
  <view class="settings-header">
    <text class="header-title">设置</text>
    <text class="header-subtitle">个性化你的声乐评测体验</text>
  </view>

  <!-- 用户信息设置 -->
  <view class="settings-section">
    <view class="section-title">个人信息</view>
    <view class="settings-list">
      <view class="setting-item" bindtap="editProfile">
        <view class="setting-icon-wrapper">
          <text class="setting-icon">👤</text>
        </view>
        <view class="setting-content">
          <text class="setting-title">个人资料</text>
          <text class="setting-desc">编辑头像、昵称等信息</text>
        </view>
        <text class="setting-arrow">→</text>
      </view>
    </view>
  </view>

  <!-- 评测设置 -->
  <view class="settings-section">
    <view class="section-title">评测设置</view>
    <view class="settings-list">
      <view class="setting-item">
        <view class="setting-icon-wrapper">
          <text class="setting-icon">🎵</text>
        </view>
        <view class="setting-content">
          <text class="setting-title">默认评测时长</text>
          <text class="setting-desc">设置默认的录音时长</text>
        </view>
        <view class="setting-value">
          <picker mode="selector" range="{{durationOptions}}" range-key="label" value="{{selectedDurationIndex}}" bindchange="onDurationChange">
            <text class="value-text">{{durationOptions[selectedDurationIndex].label}}</text>
          </picker>
        </view>
      </view>
      <view class="setting-item">
        <view class="setting-icon-wrapper">
          <text class="setting-icon">🔔</text>
        </view>
        <view class="setting-content">
          <text class="setting-title">评测提醒</text>
          <text class="setting-desc">评测完成后的提醒</text>
        </view>
        <view class="setting-value">
          <switch checked="{{evaluationReminder}}" bindchange="onEvaluationReminderChange" color="#ff9a56"/>
        </view>
      </view>
    </view>
  </view>

  <!-- 通知设置 -->
  <view class="settings-section">
    <view class="section-title">通知设置</view>
    <view class="settings-list">
      <view class="setting-item">
        <view class="setting-icon-wrapper">
          <text class="setting-icon">📱</text>
        </view>
        <view class="setting-content">
          <text class="setting-title">推送通知</text>
          <text class="setting-desc">接收应用推送消息</text>
        </view>
        <view class="setting-value">
          <switch checked="{{pushNotification}}" bindchange="onPushNotificationChange" color="#ff9a56"/>
        </view>
      </view>
      <view class="setting-item">
        <view class="setting-icon-wrapper">
          <text class="setting-icon">⏰</text>
        </view>
        <view class="setting-content">
          <text class="setting-title">练习提醒</text>
          <text class="setting-desc">每日练习时间提醒</text>
        </view>
        <view class="setting-value">
          <switch checked="{{practiceReminder}}" bindchange="onPracticeReminderChange" color="#ff9a56"/>
        </view>
      </view>
      <view class="setting-item" wx:if="{{practiceReminder}}" bindtap="setReminderTime">
        <view class="setting-icon-wrapper">
          <text class="setting-icon">🕐</text>
        </view>
        <view class="setting-content">
          <text class="setting-title">提醒时间</text>
          <text class="setting-desc">设置每日练习提醒时间</text>
        </view>
        <view class="setting-value">
          <text class="value-text">{{reminderTime}}</text>
          <text class="setting-arrow">→</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 应用设置 -->
  <view class="settings-section">
    <view class="section-title">应用设置</view>
    <view class="settings-list">
      <view class="setting-item" bindtap="clearCache">
        <view class="setting-icon-wrapper">
          <text class="setting-icon">🗑️</text>
        </view>
        <view class="setting-content">
          <text class="setting-title">清除缓存</text>
          <text class="setting-desc">清理应用缓存数据</text>
        </view>
        <text class="setting-arrow">→</text>
      </view>
    </view>
  </view>

  <!-- 关于应用 -->
  <view class="settings-section">
    <view class="section-title">关于应用</view>
    <view class="settings-list">
      <view class="setting-item" bindtap="viewAbout">
        <view class="setting-icon-wrapper">
          <text class="setting-icon">ℹ️</text>
        </view>
        <view class="setting-content">
          <text class="setting-title">关于我们</text>
          <text class="setting-desc">了解声乐评测应用</text>
        </view>
        <text class="setting-arrow">→</text>
      </view>
      <view class="setting-item" bindtap="viewHelp">
        <view class="setting-icon-wrapper">
          <text class="setting-icon">❓</text>
        </view>
        <view class="setting-content">
          <text class="setting-title">帮助中心</text>
          <text class="setting-desc">使用帮助和常见问题</text>
        </view>
        <text class="setting-arrow">→</text>
      </view>
      <view class="setting-item" bindtap="contactUs">
        <view class="setting-icon-wrapper">
          <text class="setting-icon">📞</text>
        </view>
        <view class="setting-content">
          <text class="setting-title">联系我们</text>
          <text class="setting-desc">反馈建议和问题报告</text>
        </view>
        <text class="setting-arrow">→</text>
      </view>
      <view class="setting-item" bindtap="checkUpdate">
        <view class="setting-icon-wrapper">
          <text class="setting-icon">🔄</text>
        </view>
        <view class="setting-content">
          <text class="setting-title">检查更新</text>
          <text class="setting-desc">当前版本：{{appVersion}}</text>
        </view>
        <text class="setting-arrow">→</text>
      </view>
      <view class="setting-item" bindtap="viewErrorLogs">
        <view class="setting-icon-wrapper">
          <text class="setting-icon">📋</text>
        </view>
        <view class="setting-content">
          <text class="setting-title">错误日志</text>
          <text class="setting-desc">查看录音错误诊断信息</text>
        </view>
        <text class="setting-arrow">→</text>
      </view>
    </view>
  </view>

  <!-- 账户操作 -->
  <view class="settings-section">
    <view class="section-title">账户操作</view>
    <view class="settings-list">
      <view class="setting-item danger" bindtap="logout">
        <view class="setting-icon-wrapper">
          <text class="setting-icon">🚪</text>
        </view>
        <view class="setting-content">
          <text class="setting-title">退出登录</text>
          <text class="setting-desc">退出当前账户</text>
        </view>
        <text class="setting-arrow">→</text>
      </view>
    </view>
  </view>

  <!-- 底部信息 -->
  <view class="settings-footer">
    <text class="footer-text">声乐评测 v{{appVersion}}</text>
    <text class="footer-text">让声音更动听</text>
  </view>
</view>

<!-- 提醒时间设置弹窗 -->
<view class="time-picker-modal {{showTimePicker ? 'show' : ''}}" bindtap="closeTimePicker">
  <view class="modal-content" catchtap="stopPropagation">
    <view class="modal-header">
      <text class="modal-title">设置提醒时间</text>
      <text class="modal-close" bindtap="closeTimePicker">×</text>
    </view>
    <view class="modal-body">
      <picker mode="time" value="{{tempReminderTime}}" bindchange="onTimeChange">
        <view class="time-picker">
          <text class="time-text">{{tempReminderTime}}</text>
        </view>
      </picker>
    </view>
    <view class="modal-actions">
      <view class="modal-btn cancel" bindtap="closeTimePicker">取消</view>
      <view class="modal-btn confirm" bindtap="confirmTime">确定</view>
    </view>
  </view>
</view>
