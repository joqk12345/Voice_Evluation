<!--pages/profile/profile.wxml-->
<view class="profile-container">
  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="user-card card">
    <view class="user-header">
      <view class="user-avatar" wx:if="{{!userInfo.avatarUrl}}">
        <text class="avatar-emoji">ğŸ‘¤</text>
      </view>
      <image class="user-avatar" wx:else src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="user-info">
        <text class="user-name">{{userInfo.nickName || 'éŸ³ä¹çˆ±å¥½è€…'}}</text>
        <text class="user-level">{{userInfo.level || 'åˆçº§'}} Â· ç¬¬{{userInfo.totalTests || 0}}æ¬¡è¯„æµ‹</text>
      </view>
      <button class="edit-btn" bindtap="editProfile">
        <text class="edit-icon">âœï¸</text>
      </button>
    </view>
    
    <view class="user-stats">
      <view class="stat-item">
        <text class="stat-number">{{userInfo.bestScore || 0}}</text>
        <text class="stat-label">æœ€é«˜åˆ†</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{userInfo.totalTests || 0}}</text>
        <text class="stat-label">è¯„æµ‹æ¬¡æ•°</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{userInfo.level || 'åˆçº§'}}</text>
        <text class="stat-label">å½“å‰ç­‰çº§</text>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="menu-group">
      <view class="menu-item" bindtap="viewHistory">
        <view class="menu-icon">ğŸ“Š</view>
        <text class="menu-title">è¯„æµ‹å†å²</text>
        <text class="menu-arrow">></text>
      </view>
      
      <view class="menu-item" bindtap="viewRecommend">
        <view class="menu-icon">ğŸµ</view>
        <text class="menu-title">ä¸ªæ€§åŒ–æ¨è</text>
        <text class="menu-arrow">></text>
      </view>
      
      <view class="menu-item" bindtap="viewAchievements">
        <view class="menu-icon">ğŸ†</view>
        <text class="menu-title">æˆå°±å¾½ç« </text>
        <text class="menu-arrow">></text>
      </view>
    </view>

    <view class="menu-group">
      <view class="menu-item" bindtap="viewSettings">
        <view class="menu-icon">âš™ï¸</view>
        <text class="menu-title">è®¾ç½®</text>
        <text class="menu-arrow">></text>
      </view>
      
      <view class="menu-item" bindtap="viewHelp">
        <view class="menu-icon">â“</view>
        <text class="menu-title">å¸®åŠ©ä¸åé¦ˆ</text>
        <text class="menu-arrow">></text>
      </view>
      
      <view class="menu-item" bindtap="viewAbout">
        <view class="menu-icon">â„¹ï¸</view>
        <text class="menu-title">å…³äºæˆ‘ä»¬</text>
        <text class="menu-arrow">></text>
      </view>
    </view>
  </view>

  <!-- æˆå°±å±•ç¤º -->
  <view class="achievements-section card" wx:if="{{achievements.length > 0}}">
    <view class="section-header">
      <text class="section-title">æœ€æ–°æˆå°±</text>
      <text class="section-more" bindtap="viewAchievements">æŸ¥çœ‹å…¨éƒ¨</text>
    </view>
    
    <view class="achievements-list">
      <view class="achievement-item" wx:for="{{achievements}}" wx:key="index">
        <view class="achievement-icon">{{item.icon}}</view>
        <view class="achievement-info">
          <text class="achievement-name">{{item.name}}</text>
          <text class="achievement-desc">{{item.description}}</text>
        </view>
        <view class="achievement-date">{{item.date}}</view>
      </view>
    </view>
  </view>

  <!-- é€€å‡ºç™»å½• -->
  <view class="logout-section">
    <button class="logout-btn" bindtap="logout">
      <text class="logout-icon">ğŸšª</text>
      <text>é€€å‡ºç™»å½•</text>
    </button>
  </view>
</view>
