<!--pages/recommend/recommend.wxml-->
<view class="recommend-container">
  <!-- ç”¨æˆ·æ°´å¹³å¡ç‰‡ -->
  <view class="level-card">
    <view class="level-header">
      <text class="level-emoji">ğŸ¯</text>
      <view class="level-info">
        <text class="level-title">æ‚¨çš„å£°ä¹æ°´å¹³</text>
        <text class="level-badge">{{userLevel}}</text>
      </view>
    </view>
    <view class="level-progress">
      <view class="progress-bar">
        <view class="progress-fill" style="width: {{levelProgress}}%;"></view>
      </view>
      <text class="progress-text">{{levelProgress}}% å®Œæˆåº¦</text>
    </view>
  </view>

  <!-- ä¸ªæ€§åŒ–ç»ƒä¹ è®¡åˆ’ï¼ˆä¼˜å…ˆæ˜¾ç¤ºï¼‰ -->
  <view class="practice-section">
    <view class="section-header">
      <text class="section-title">ğŸ’ª ä¸ªæ€§åŒ–ç»ƒä¹ è®¡åˆ’</text>
      <text class="section-subtitle">æ ¹æ®æ‚¨çš„è¯„æµ‹ç»“æœå®šåˆ¶</text>
    </view>
    
    <!-- éœ€è¦é‡ç‚¹ç»ƒä¹ çš„æ¿å—æç¤º -->
    <view class="weak-areas-tip" wx:if="{{weakAreas && weakAreas.length > 0}}">
      <text class="tip-icon">ğŸ¯</text>
      <view class="tip-content">
        <text class="tip-title">å»ºè®®é‡ç‚¹ç»ƒä¹ ä»¥ä¸‹æ¿å—ï¼š</text>
        <view class="weak-areas-tags">
          <text class="weak-area-tag" wx:for="{{weakAreas}}" wx:key="index">
            <text class="tag-icon">{{item.icon}}</text>
            <text class="tag-name">{{item.name}}</text>
            <text class="tag-score">{{item.score}}åˆ†</text>
          </text>
        </view>
      </view>
    </view>
    
    <view class="practice-list">
      <view class="practice-item {{item.priority ? 'practice-item-priority' : ''}}" wx:for="{{practicePlans}}" wx:key="index">
        <view class="practice-icon-wrapper {{item.priority ? 'practice-icon-priority' : ''}}">
          <text class="practice-icon">{{item.icon}}</text>
          <text class="priority-badge" wx:if="{{item.priority}}">é‡ç‚¹</text>
        </view>
        <view class="practice-content">
          <view class="practice-header">
            <text class="practice-name">{{item.type}}</text>
            <text class="priority-label" wx:if="{{item.priority && item.weakArea}}">é’ˆå¯¹{{item.weakArea.name}}æå‡</text>
          </view>
          <text class="practice-desc">{{item.description}}</text>
          <view class="practice-meta">
            <text class="practice-duration">{{item.duration}}</text>
            <text class="practice-frequency">{{item.frequency}}</text>
          </view>
        </view>
        <button class="practice-btn {{item.priority ? 'practice-btn-priority' : ''}}" bindtap="startPractice" data-type="{{item.type}}">
          <text>å¼€å§‹</text>
        </button>
      </view>
    </view>
  </view>

  <!-- æ¨èæ­Œæ›² -->
  <view class="songs-section">
    <view class="section-header">
      <text class="section-title">ğŸµ æ¨èæ­Œæ›²</text>
      <text class="section-subtitle">é€‚åˆæ‚¨å½“å‰æ°´å¹³çš„æ­Œæ›²</text>
    </view>
    
    <view class="songs-list">
      <view class="song-item" wx:for="{{recommendedSongs}}" wx:key="index" bindtap="selectSong" data-song="{{item}}">
        <view class="song-cover">
          <text class="cover-icon">ğŸµ</text>
        </view>
        
        <view class="song-info">
          <text class="song-name">{{item.name}}</text>
          <text class="song-artist">{{item.artist}}</text>
          <view class="song-tags">
            <text class="song-tag difficulty-{{item.difficultyClass}}">{{item.difficulty}}</text>
            <text class="song-tag">é€‚åˆç»ƒä¹ </text>
          </view>
        </view>
        
        <view class="song-arrow">
          <text class="arrow-icon">â†’</text>
        </view>
      </view>
    </view>
  </view>

  <!-- å£°ä¹æŠ€å·§ -->
  <view class="tips-section">
    <view class="section-header">
      <text class="section-title">ğŸ“š å£°ä¹æŠ€å·§æŒ‡å¯¼</text>
    </view>
    
    <view class="tips-list">
      <view class="tip-item" wx:for="{{vocalTips}}" wx:key="index">
        <view class="tip-icon-wrapper">
          <text class="tip-icon">{{item.icon}}</text>
        </view>
        <view class="tip-content">
          <text class="tip-title">{{item.title}}</text>
          <text class="tip-text">{{item.content}}</text>
        </view>
        <view class="tip-arrow">
          <text class="arrow-icon">â†’</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æ¯æ—¥æŒ‘æˆ˜ -->
  <view class="challenge-section">
    <view class="section-header">
      <text class="section-title">ğŸ† æ¯æ—¥æŒ‘æˆ˜</text>
      <text class="section-subtitle">å®ŒæˆæŒ‘æˆ˜è·å¾—å¥–åŠ±</text>
    </view>
    
    <view class="challenge-card">
      <view class="challenge-header">
        <text class="challenge-icon">ğŸ¯</text>
        <view class="challenge-info">
          <text class="challenge-name">{{dailyChallenge.name}}</text>
          <text class="challenge-desc">{{dailyChallenge.description}}</text>
        </view>
      </view>
      
      <view class="challenge-progress">
        <view class="progress-bar">
          <view class="progress-fill" style="width: {{challengeProgress}}%;"></view>
        </view>
        <text class="progress-text">{{challengeProgress}}% å®Œæˆ</text>
      </view>
      
      <button class="challenge-btn" bindtap="startChallenge">
        <text class="btn-icon">ğŸš€</text>
        <text>å¼€å§‹æŒ‘æˆ˜</text>
      </button>
    </view>
  </view>

  <!-- ä¸€å¯¹ä¸€å£°ä¹è¯¾æ¨è -->
  <view class="tutor-section">
    <view class="section-header">
      <text class="section-title">ğŸ“ ä¸“ä¸šå£°ä¹æŒ‡å¯¼</text>
      <text class="section-subtitle">ä¸€å¯¹ä¸€åœ¨çº¿å£°ä¹è¯¾ï¼Œå¿«é€Ÿæå‡</text>
    </view>
    
    <view class="tutor-card">
      <view class="tutor-benefits">
        <view class="benefit-item">
          <text class="benefit-icon">ğŸ‘¨â€ğŸ«</text>
          <text class="benefit-text">ä¸“ä¸šè€å¸ˆæŒ‡å¯¼</text>
        </view>
        <view class="benefit-item">
          <text class="benefit-icon">ğŸ’»</text>
          <text class="benefit-text">åœ¨çº¿æˆè¯¾</text>
        </view>
        <view class="benefit-item">
          <text class="benefit-icon">ğŸ¯</text>
          <text class="benefit-text">ä¸ªæ€§åŒ–å®šåˆ¶</text>
        </view>
      </view>
      
      <view class="tutor-pricing">
        <view class="price-highlight">
          <text class="price-label">è¯•å¬è¯¾ç¨‹</text>
          <text class="price-value">å…è´¹</text>
        </view>
      </view>
      
      <button class="tutor-btn" bindtap="bookTutorClass">
        <text class="btn-icon">ğŸ“…</text>
        <text>ç«‹å³é¢„çº¦è¯•å¬</text>
      </button>
    </view>
  </view>
</view>
